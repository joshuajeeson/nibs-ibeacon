<ion-view title="Edit Profile" class="card-bg">

    <ion-nav-buttons side="right">
        <button class="button button-clear" ng-click="update()">Save</button>
    </ion-nav-buttons>

    <ion-content has-header="true" has-padding="true">

        <div class="padding" style="padding-bottom: 0">
            <div class="button-bar">
                <a class="button button-small" ng-click="panel=1">Info</a>
                <a class="button button-small" ng-click="panel=2">Subscription</a>
            </div>
        </div>

        <div ng-if="panel===1">
            <div class="padding">
                <img class="profile-pic light-border" ng-src="{{user.pictureurl}}" style="float: left;margin-right:8px;margin-bottom:8px;"/>
                <div>
                    <button class="button icon ion-ios7-camera button-light" ng-click="addPicture()" style="width: 68px;"></button><br/>
                    <button class="button icon ion-ios7-photos button-light" ng-click="addPicture('LIBRARY')" style="width: 68px;margin-top: 4px;"></button>
                </div>
            </div>
            <form class="list list-inset" style="clear: both;margin-top: 0">
                <label class="item item-input">
                    <span class="input-label">Email</span>
                    <input type="text" ng-model="user.email" ng-readonly="true"/>
                </label>
                <label class="item item-input">
                    <span class="input-label">First Name</span>
                    <input type="text" ng-model="user.firstname" />
                </label>
                <label class="item item-input">
                    <span class="input-label">Last Name</span>
                    <input type="text" ng-model="user.lastname" />
                </label>
                <label class="item item-input">
                    <span class="input-label">Mobile Phone</span>
                    <input type="text" ng-model="user.mobilephone" />
                </label>
                <li class="item item-toggle">
                    Subscribe
                    <label class="toggle">
                        <input type="checkbox" ng-model="user.subscribe">
                        <div class="track">
                            <div class="handle"></div>
                        </div>
                    </label>
                </li>
            </form>
        </div>

        <div ng-if="panel===2">
            <form class="list list-inset">
                <div class="item item-divider">
                    Protein Value
                </div>
                <ion-radio name = "protein" ng-repeat="protein in proteins"
                           ng-value="protein.value"
                           ng-model="user.protein">
                    {{ protein.text }}
                </ion-radio>
                <div class="item item-divider">
                    Subscription Frequency
                </div>
                <ion-radio name="frequency" ng-repeat="frequency in frequencies"
                           ng-value="frequency.value"
                           ng-model="user.frequency">
                    {{ frequency.text }}
                </ion-radio>
                <div class="item item-divider">
                    Cereal Type
                </div>
                <ion-radio name="type" ng-repeat="type in types"
                           ng-value="type.value"
                           ng-model="user.type">
                    {{ type.text }}
                </ion-radio>
            </form>
        </div>

    </ion-content>

</ion-view>
